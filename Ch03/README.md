# 推荐系统冷启动问题

推荐系统需要根据用户的历史行为和兴趣预测用户未来的行为和兴趣，因此大量的用户行为数据就成为推荐系统的重要组成部分和先决条件。  

如何在没有大量用户数据的情况下设计个性化推荐系统并且让用户对推荐结果满意从而愿意使用推荐系统，就是冷启动。

### 冷启动问题简介

冷启动问题主要分为3类
* 用户冷启动  主要解决如何给**新用户**做个性化推荐的问题。新用户到来，没有新用户的行为数据，也无法使用历史行为预测其行为。  
* 物品冷启动  主要解决如何将新的物品推荐给可能对它感兴趣的用户这一问题。  
* 系统冷启动  主要解决如何在一个新开发的网址上设计个性化推荐系统。  

对于不同的冷启动问题，有不同的解决方案，一般来说，参考以下的解决方案   
* 提供非个性化推荐 非个性化推荐的最简单的例子就是热门排行榜。可以给用户推荐热门排行榜，然后等到用户数据收集到一定的时候，再切换为个性化推荐。  
* 利用用户注册时提供的年龄、性别等数据做粗粒度的个性化。  
* 利用用户的社交网络账号登录（需要用户授权）、导入用户在社交网站上的好友信息，然后给用户推荐其好友喜欢的物品  
* 利用用户在登录时对一些物品进行反馈，收集用户对这些物品的兴趣信息，然后给用户推荐那些和这些物品相似的物品。  
* 对于新加入的物品，可以利用内容信息，将它们推荐给喜欢过和它们相似物品的用户。  
* 在系统冷启动时，可以引入专家的知识，通过一定的高效方式迅速建立起 物品的相关度表。  

### 利用用户注册信息  

1. 用户注册的性别信息

利用用户的注册信息可以很好地解决注册用户的冷启动问题。在绝大多数网站中，年龄、性别一般都是注册用户的必备信息。  

用户的注册信息分3种   
* 人口统计学信息  包括用户的年龄、性别、职业、民族、学历和居住地  
* 用户兴趣的描述  有一些网站会让用户用文字描述他们的兴趣  
* 从其他网站导入的用户站外行为数据  比如用户通过豆瓣、新浪微博的账号登录，就可以在得到用户同意的情况下获取用户在豆瓣或者新浪微博的一些行为数据和社交网络数据。  


通过用户注册时填写的人口统计学信息给用户提供粗粒度的个性化推荐  

人口统计学特征包括年龄、性别、工作、学历、居住地、国籍、民族等，这些特征对预测用户的兴趣有很重要的作用，比如男性和女性的兴趣不同，不同年龄的人兴趣也不同。  

基于注册信息的个性化推荐流程基本如下:
(1) 获取用户的注册信息  
(2) 根据用户的注册信息对用户分类  
(3) 给用户推荐他所属分类中用户喜欢的物品  

基于用户人口统计学特征推荐的简单例子:  
当一个新的注册用户访问推荐系统时，首先从用户注册数据库中查询注册信息。比如该用户信息为<年龄28岁,男性,物理学家> ,然后查询3张离线计算好的相关表:一张是性别-物品相关表，从中可以查询男性最喜欢的物品；一张是年龄-物品相关表，从中可以查询到28岁用户最喜欢的物品；一张是职业-物品相关表，可以查询到物理学家最喜欢的物品。然后，可以将3张相关表查询出的物品按照一定权重相加，得到给用户的最终物品推荐列表。   

当然，实际应用中可以考虑组合特征，比如将年龄性别作为一个特征，或者将性别职业作为一个特征。  

基于用户注册信息的推荐算法其 核心问题是计算每种特征的用户喜欢的物品。也就是说，对于每种特征f，计算具有这种特征的用户对各个物品的喜好程度p(f, i) 

p(f,i)可以简单地定义为物品i在具有f的特征的用户中的热门程度 p(f,i) = | N(i) && U(f)|

其中N(i)是喜欢物品i的用户集合，U(f)是具有特征f的用户集合。

上面这种定义可以比较准确的预测具有某种特征的用户是否喜欢某个物品。但是，在这种定义下，往往热门的物品会在各种特征的用户中都具有比较高的权重。也就是说具有比较高的|N(i)|的物品会在每一类用户中都有比较高的p(f, i)。给用户推荐热门物品并不是推荐系统的主要任务，推荐系统应该发掘长尾物品，发现他们不容易发现的物品。因此可以将p(f,i)定义为喜欢物品i的用户中具有特征f的比例。

p(f,i) = | N(i) && U(f)| / |N(i) + a|

这里分母中使用参数a的目的是解决数据稀疏问题。比如有一个物品只被1个用户喜欢过，而这个用户刚好就有特征f，那么就有p(f,i)=1。但是这种情况没有统计意义，因此为分母加上一个比较大的数，可以避免物品产生较大的权重。  

有两个推荐系统数据集包含了人口统计学信息，一个是BookCrossing数据集，一个是Lastfm数据集。

BookCrossing 数据集包含有年龄信息

Lastfm数据集包含了更多的用户人口统计学信息，包括用户的性别、年龄和国籍。  

对比不同人口统计学特征预测用户行为的精度。  
* 训练集：测试集比例=9:1  
* p(f,i) = | N(i) && U(f)| 计算每一类用户对物品的兴趣程度
* top10
* 计算准确率和召回率

按照不同的粒度给用户分类，对比了4种不同的算法。  
* mostPopular 给用户推荐最热门的物品  
* genderMostPopular 给用户推荐和他同性别用户最热门的歌手，用户暂时分为男女  
* ageMostPopular 给用户推荐对于同一个年龄段的用户最热门的歌手，这里将10作为一个年龄段，用户按照不同年龄段分类  
* countryMostPopular 给用户推荐同一个国家的用户最热门的歌手  
* demographicMostPopular 给用户推荐对于和他同性别、年龄段、国家的用户最热门的歌手  

一般来说，粒度越细，精度和覆盖度也会越高。

利用用户人口统计学特征越多，越能准确地预测用户兴趣。

### 选择合适的物品启动用户的兴趣 

解决用户冷启动问题的另一个方法是在新用户第一次访问推荐系统时，不立即给用户展示推荐结果，而是给用户提供一些物品，让用户反馈他们对这些物品的兴趣，然后根据用户反馈给提供个性化推荐。  

例如jinni，当新用户访问推荐系统时，它会给出一条提示语，表示用户需要给多部电影评分才能获取推荐结果。当用户选择给多部电影评分后，jinni会首先展示一个页面让用户选择他喜欢的电影类别，当用户选择了某一个类别后，jinni会展示第三个界面让用户对电影进行反馈。  

对于这些通过用户对物品进行评分来收集用户兴趣，从而对用户进行冷启动的系统，它们需要解决的首要问题就是如何选择物品让用户进行反馈。  

一般来说，能够用来启动用户兴趣的物品需要具有以下特点:  
* 比较热门  
* 具有代表性和区分性  
* 启动物品集合需要有多样性  

如何设计一个选择冷启动物品集合的系统呐？ Nadav GolBandi在论文中探讨了这个问题，提出可以用一个决策树来解决这个问题。  

### 利用物品的内容信息  

物品冷启动需要解决的问题是如何将新加入的物品推荐给它感兴趣的用户，物品冷启动在新闻网站等时效性很强的网站中非常重要，因为那些网站中时时刻刻都有新加入的物品，而且每个物品必须能够在第一时间展现给用户，否则经过一段时间后，物品的价值就大大降低了。  

两种主要的推荐算法--UserCF和ItemCF算法对于新物品的情况。  

UserCF算法对于物品冷启动问题并不非常敏感。因为，UserCF在给用户进行推荐时，会首先找到和用户兴趣相似的一群用户，然后给用户推荐这一群用户喜欢的物品。在很多网站中，推荐列表并不是给用户展示内容的唯一列表，那么当一个新物品加入时，总会有用户从某些途径看到这些物品，对这些物品产生反馈。那么，当一个用户对某个物品产生反馈后，和他历史兴趣相似的其他用户的推荐列表中就有可能出现这一物品，从而更多的人就会对这个物品产生反馈，导致更多的人的推荐列表中会出现这一物品，因此该物品就能不断地扩散开来，从而逐步展示到对它感兴趣用户的推荐列表中。

那么对于UserCF算法就需要解决第一推动力的问题，即第一个用户从哪发现新的物品。  

对于ItemCF算法来说，物品冷启动就是一个严重的问题。因为itemCF算法的原理是给用户推荐和他之前喜欢的物品相似的物品。itemCF算法会每隔一段时间利用用户行为计算物品相似度表（一般一天计算一次），在线服务时itemCF算法会将之前计算好的物品相关度矩阵放在内存中。因此，当新物品加入时，内存中的物品相关表中不会存在这个物品，从而itemCF算法无法推荐新的物品。  
解决这一问题的办法是频繁更新物品相似度表。但基于用户行为计算物品相似度是非常耗时的事情。主要原因是用户行为日志非常庞大。而且，新物品如果不展示给用户，用户就无法对它产生行为，通过行为日志计算是计算不出包含新物品的相关矩阵的。为此，只能利用物品的内容计算物品相关表，并且频繁的更新相关表。  

物品的内容信息多种多样，不同类型的物品有不同的内容信息。  
* 电影 标题 导演 演员 编剧 风格 国家 年代 
* 图书 标题 作者 出版社 正文 分类 

一般来说，物品的内容可以通过向量空间模型表示。该模型会将物品表示成一个关键词向量。如果物品的内容是一些诸如导演、演员等实体的话，可以直接将这些实体作为关键词。但如果内容是文本的形式，则需要引入一些理解自然语言的技术抽取关键词。

从文本生成关键词的主要步骤，对于中文，首先要对文本进行分词，将字流变成词流，然后从词流中检测出命名实体（如人名、地名、组织名等），这些实体和一些其他重要的词将组成关键词集合，最后对关键词进行排名，计算每个关键词的权重，从而生成关键词向量。  

如果物品是文本，可以使用TF-IDF公式计算词的权重。

向量空间模型的优点是简单，缺点是丢失了一些信息，比如关键词之间的关系信息。不过在绝大多数应用中，向量空间模型对于文本的分类，聚类，相似度计算已经可以给出令人满意的结果。

向量空间模型在内容数据丰富时可以获得比较好的效果。以文本为例，如果是计算长文本的相似度，用向量空间模型利用关键词计算相似度已经可以获得很高的精确度。但是，如果文本很短，关键词很少，向量空间模型就很难计算出准确的相似度。  

>话题模型LDA

### 发挥专家的作用  

利用专家进行标注。

通过物品各个维度进行标注，生成向量，通过向量相似度算法计算物品的相似度。





### 参考文献
1. 项亮. 推荐系统实践[M]. 北京: 人民邮电出版社, 2012.